Description: Remove rpath
Author: Fathi Boudra <fabo@debian.org>
--- a/common.pri
+++ b/common.pri
@@ -114,7 +114,6 @@ contains(build_unit_tests, yes) {
     MOC_DIR = $$OUTPUT_DIR/build/$$SUBDIRPART/$$TARGET/moc
     RCC_DIR = $$OUTPUT_DIR/build/$$SUBDIRPART/$$TARGET/rcc
     UI_DIR = $$OUTPUT_DIR/build/$$SUBDIRPART/$$TARGET/ui
-    QMAKE_RPATHDIR += $$QT_MOBILITY_LIB
 } else {
     # Unit test code (no plugins! test plugins are just normal plugins installed elsewhere)
     QT *= testlib
@@ -125,7 +124,6 @@ contains(build_unit_tests, yes) {
     MOC_DIR = $$OUTPUT_DIR/build/tests/$$SUBDIRPART/$$TARGET/moc
     RCC_DIR = $$OUTPUT_DIR/build/tests/$$SUBDIRPART/$$TARGET/rcc
     UI_DIR = $$OUTPUT_DIR/build/tests/$$SUBDIRPART/$$TARGET/ui
-    QMAKE_RPATHDIR += $$OUTPUT_DIR/lib
 }
 
 contains(TEMPLATE,.*lib):DEFINES += QT_SHARED
--- a/examples/audiodevices/audiodevices.pro
+++ b/examples/audiodevices/audiodevices.pro
@@ -7,8 +7,6 @@ include(../examples.pri)
 CONFIG += mobility
 MOBILITY = multimedia
 
-QMAKE_RPATHDIR += $$DESTDIR
-
 HEADERS       = audiodevices.h
 
 SOURCES       = audiodevices.cpp \
--- a/examples/audioinput/audioinput.pro
+++ b/examples/audioinput/audioinput.pro
@@ -7,8 +7,6 @@ include(../examples.pri)
 CONFIG += mobility
 MOBILITY = multimedia
 
-QMAKE_RPATHDIR += $$DESTDIR
-
 HEADERS       = audioinput.h
 
 SOURCES       = audioinput.cpp \
--- a/examples/audiooutput/audiooutput.pro
+++ b/examples/audiooutput/audiooutput.pro
@@ -7,8 +7,6 @@ include(../examples.pri)
 CONFIG += mobility
 MOBILITY = multimedia
 
-QMAKE_RPATHDIR += $$DESTDIR
-
 HEADERS       = audiooutput.h
 
 SOURCES       = audiooutput.cpp \
--- a/examples/audiorecorder/audiorecorder.pro
+++ b/examples/audiorecorder/audiorecorder.pro
@@ -7,8 +7,6 @@ include(../examples.pri)
 CONFIG += mobility
 MOBILITY = multimedia
 
-QMAKE_RPATHDIR += $$DESTDIR
-
 HEADERS = \
     audiorecorder.h
   
--- a/examples/radio/radio.pro
+++ b/examples/radio/radio.pro
@@ -7,8 +7,6 @@ include(../examples.pri)
 CONFIG += mobility
 MOBILITY = multimedia
 
-QMAKE_RPATHDIR += $$DESTDIR
-
 HEADERS = \
     radio.h
   
--- a/examples/videographicsitem/videographicsitem.pro
+++ b/examples/videographicsitem/videographicsitem.pro
@@ -7,8 +7,6 @@ include(../examples.pri)
 CONFIG += mobility
 MOBILITY = multimedia
 
-QMAKE_RPATHDIR += $$DESTDIR
-
 contains(QT_CONFIG, opengl): QT += opengl
 
 HEADERS   += videoplayer.h \
--- a/examples/videowidget/videowidget.pro
+++ b/examples/videowidget/videowidget.pro
@@ -7,8 +7,6 @@ include(../examples.pri)
 CONFIG += mobility
 MOBILITY = multimedia
 
-QMAKE_RPATHDIR += $$DESTDIR
-
 HEADERS = \
     videoplayer.h \
     videowidget.h \
--- a/features/basic_examples_setup.pri
+++ b/features/basic_examples_setup.pri
@@ -24,7 +24,6 @@ UI_DIR = $$OUTPUT_DIR/build/$$SUBDIRPART
 OBJECTS_DIR = $$OUTPUT_DIR/build/$$SUBDIRPART/$$TARGET
 mac:LIBS+= -F$$OUTPUT_DIR/lib
 LIBS+= -L$$OUTPUT_DIR/lib
-QMAKE_RPATHDIR+=$$QT_MOBILITY_LIB
 INCLUDEPATH+= $$QT_MOBILITY_SOURCE_TREE/src/global
 
 maemo6 {
--- a/features/mobility.prf.template
+++ b/features/mobility.prf.template
@@ -12,7 +12,6 @@
 mac: LIBS += -F$${MOBILITY_LIB}
 
 LIBS+= -L$${MOBILITY_LIB}
-QMAKE_RPATHDIR+=$${MOBILITY_LIB}
 
 # versit depends on contacts
 contains(MOBILITY, versit) {
